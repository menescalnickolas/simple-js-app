let pokemonRepository=function(){let e=[];function t(t){e.push(t)}function n(){return e}function i(e){let t=document.querySelector(".pokemonButtonList ul"),n=document.createElement("div"),i=document.createElement("button");i.innerText=e.name.charAt(0).toUpperCase()+e.name.slice(1),i.classList.add("btn","btn-primary","btn-block"),n.classList.add("list-group-item"),n.appendChild(i),t.appendChild(n),i.addEventListener("click",function(){o(e).then(function(){var t;let n,i,o,a,r,l,p,s;t=e,n=$(".modal-body"),(i=$(".modal-title")).empty(),n.empty(),o=$("<h1>"+t.name+"</h1>"),(a=$('<img class="modal-img" style="width:50%">')).attr("src",t.imageUrl),r=$("<p>Height: "+t.height+"</p>"),l=$("<p>Weight: "+t.weight+"</p>"),p=$("<p>Types: "+t.types.map(e=>e.type.name).join(", ")+"</p>"),s=$("<p>Abilities: "+t.abilities.map(e=>e.ability.name).join(", ")+"</p>"),i.append(o),n.append(a),n.append(r),n.append(l),n.append(p),n.append(s),$("#exampleModal").modal("show")})})}function o(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types,e.weight=t.weight,e.abilities=t.abilities}).catch(function(e){console.error(e)})}return{add:t,getAll:n,addListItem:i,loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){t({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:o,filterPokemon:function t(n){let o=e.filter(e=>e.name.toLowerCase().includes(n.toLowerCase()));document.querySelector(".pokemonButtonList ul").innerHTML="",o.forEach(function(e){i(e)})}}}();document.getElementById("search-form").addEventListener("submit",function(e){e.preventDefault();let t=document.getElementById("search-input").value;pokemonRepository.filterPokemon(t)}),pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});